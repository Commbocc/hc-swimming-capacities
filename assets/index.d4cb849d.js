import{r as e,o as a,c as t,a as s,b as o,F as n,d as r,w as i,e as l,f as c,t as d,g as m,h as p,i as u,j as y}from"./vendor.2db09a9c.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const s=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,n)=>{const r=new URL(e,s);if(self[a].moduleMap[r])return t(self[a].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${a}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){n(new Error(`Failed to import: ${e}`)),o(l)},onload(){t(self[a].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[a].moduleMap={}}}("assets/");const f={setup:()=>({})};f.render=function(s,o,n,r,i,l){const c=e("router-view");return a(),t(c)};var g=s.create({baseURL:"https://api.airtable.com/v0/app04gpmKMySbcl3B",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const v=o({error:"",loading:!1,data:[]});const h={setup:()=>(async function(){v.loading=!0;try{const{data:e}=await g.get("/locations",{params:{view:"Grid view"}});v.data=e.records}catch(e){v.error=e.message}finally{v.loading=!1}}(),{locations:v})},w={key:0,class:"text-center my-5"},b=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),L={key:1,class:"list-group"},k={key:2,class:"alert alert-info",role:"alert"};h.render=function(s,o,l,m,p,u){const y=e("router-link");return m.locations.loading?(a(),t("div",w,[b])):m.locations.data.length?(a(),t("div",L,[(a(!0),t(n,null,r(m.locations.data,(({id:e,fields:s})=>(a(),t(y,{key:e,to:{name:"Location",params:{sitecoreItemId:s.GUID}},class:"list-group-item list-group-item-action"},{default:i((()=>[c(d(s.name),1)])),_:2},1032,["to"])))),128))])):(a(),t("div",k," No locations are offering programming at this time. "))};const R=o({error:"",loading:!1,data:[]});const I={props:{sitecoreItemId:String},setup:e=>(async function(e){R.loading=!0;try{const{data:a}=await g.get("/sessions",{params:{filterByFormula:`'${e}' = ARRAYJOIN({LocationGUID})`,view:"Grid view"}});R.data=a.records}catch(a){R.error=a.message}finally{R.loading=!1}}(e.sitecoreItemId),{sessions:R})},U={key:0,class:"text-center my-5"},j=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),x={key:1,class:"accordion accordion-flush"},A={key:0},G={key:2,class:"alert alert-info",role:"alert"};I.render=function(e,s,o,i,p,u){return i.sessions.loading?(a(),t("div",U,[j])):i.sessions.data.length?(a(),t("div",x,[(a(!0),t(n,null,r(i.sessions.data,(({fields:e,id:s})=>(a(),t("div",{key:s,class:["alert text-center d-flex flex-column flex-md-row justify-content-between",e.CapacityReached||e.Available<=0?"alert-warning":"alert-primary"],role:"alert"},[l("span",null,[l("strong",null,d(e.SessionName),1),c(" - "+d(e.Times),1)]),e.CapacityReached||e.Available<=0?(a(),t("strong",A," Capacity Limit Reached ")):m("",!0),l("span",null,d(e.Available)+" / "+d(e.Capacity)+" Swimming Slots Available ",1)],2)))),128))])):(a(),t("div",G," There are no swim sessions at this time. "))};const M=[{path:"/",name:"Home",component:h},{path:"/:sitecoreItemId",name:"Location",component:I,props:!0}],C=p({history:u(),routes:M});y(f).use(C).mount("#app");
